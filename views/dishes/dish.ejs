<% if (dish) { %>
    <h2><%= dish.dishName %></h2>
    <% if (dish.ingredients) { %>
        <table>
            <thead>
                <tr>
                    <th>Ingredient</th>
                    <th>Amount</th>
                    <th>Metric</th>
                    <th>Price (kr)</th>
                </tr>
            </thead>
            <tbody>
            <% let total = 0 %>
            <% for (let ingredient of dish.ingredients.values()) { %>
                <tr>
                    <td><%= ingredient.ingredientName %></td>
                    <td><%= ingredient.amount %></td>
                    <td><%= ingredient.metric %></td>
                    <td><%= ingredient.priceKg / 1000 * ingredient.amount %></td>
                </tr>
                <% total += ingredient.priceKg / 1000 * ingredient.amount %>
            <% } %>
            </tbody>
            <tfoot>
                <tr>
                    <th colspan="3">Total:</th>
                    <td><%= total %></td>
                </tr>
            </tfoot>
        </table>
    <% } else { %>
        <p>No ingredients found</p>
    <% } %>
<% } else { %>
    <p>No dish found</p>
<% } %>
